{"attributes":{"kind":"abstract type","backlinks":[{"tag":"sourcefile","title":"FluxTraining/callbacks/trace.jl","docid":"FluxTraining@0.3.9/src/callbacks/trace.jl"},{"tag":"documentation","title":"on","docid":"FluxTraining@0.3.9/ref/FluxTraining.on"},{"tag":"sourcefile","title":"FluxTraining/callbacks/custom.jl","docid":"FluxTraining@0.3.9/src/callbacks/custom.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/logging/checkpointer.jl","docid":"FluxTraining@0.3.9/src/callbacks/logging/checkpointer.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/sanitycheck.jl","docid":"FluxTraining@0.3.9/src/callbacks/sanitycheck.jl"},{"tag":"documentation","title":"CustomCallback","docid":"FluxTraining@0.3.9/ref/FluxTraining.CustomCallback"},{"tag":"documentation","title":"Phase","docid":"FluxTraining@0.3.9/ref/FluxTraining.Phases.Phase"},{"tag":"sourcefile","title":"FluxTraining/callbacks/callbacks.jl","docid":"FluxTraining@0.3.9/src/callbacks/callbacks.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/scheduler.jl","docid":"FluxTraining@0.3.9/src/callbacks/scheduler.jl"},{"tag":"sourcefile","title":"FluxTraining/callbackutils.jl","docid":"FluxTraining@0.3.9/src/callbackutils.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/earlystopping.jl","docid":"FluxTraining@0.3.9/src/callbacks/earlystopping.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/logging/logger.jl","docid":"FluxTraining@0.3.9/src/callbacks/logging/logger.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/metrics.jl","docid":"FluxTraining@0.3.9/src/callbacks/metrics.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/conditional.jl","docid":"FluxTraining@0.3.9/src/callbacks/conditional.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/callback.jl","docid":"FluxTraining@0.3.9/src/callbacks/callback.jl"},{"tag":"sourcefile","title":"FluxTraining/callbacks/recorder.jl","docid":"FluxTraining@0.3.9/src/callbacks/recorder.jl"},{"tag":"sourcefile","title":"FluxTraining/learner.jl","docid":"FluxTraining@0.3.9/src/learner.jl"},{"tag":"documentation","title":"tasklearner","docid":"FastAI@dev/ref/FastAI.tasklearner"}],"methods":[],"package_id":"FluxTraining@0.3.9","title":"Callback","symbol_id":"FluxTraining.Callback","exported":false,"module_id":"FluxTraining"},"tag":"documentation","children":[{"attributes":{"symbol":"FluxTraining.Callback","line":12,"module":"FluxTraining","file":"callbacks/callback.jl"},"tag":"docstring","children":[{"attributes":{},"tag":"md","children":[{"attributes":{"lang":""},"tag":"codeblock","children":["abstract type Callback\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Supertype of all callbacks. Callbacks add custom functionality to the training loop by hooking into different ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.Events.Event"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Events.Event"],"type":"node"}],"type":"node"},"s"],"type":"node"},{"attributes":{},"tag":"p","children":["Any ",{"attributes":{},"tag":"code","children":["Callback"],"type":"node"}," can be used by passing it to ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.Learner"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Learner"],"type":"node"}],"type":"node"},". See ",{"attributes":{},"tag":"code","children":["subtypes(FluxTraining.Callback)"],"type":"node"}," for implementations."],"type":"node"},{"attributes":{},"tag":"h2","children":["Extending"],"type":"node"},{"attributes":{},"tag":"p","children":["See ",{"attributes":{"href":"/docs/docs/callbacks/custom.md","title":"","document_id":"FluxTraining@0.3.9/ref/docs/docs/callbacks/custom.md"},"tag":"reference","children":["Custom callbacks"],"type":"node"}," for a less succinct tutorial format."],"type":"node"},{"attributes":{},"tag":"ol","children":[{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["Create a ",{"attributes":{},"tag":"code","children":["struct MyCallback"],"type":"node"}," that subtypes ",{"attributes":{},"tag":"code","children":["FluxTraining.Callback"],"type":"node"},"."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["Add event handlers by implementing methods for ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.on"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["on"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"code","children":["(event, phase, callback, learner)"],"type":"node"},". Methods should always dispatch on your callback, and may dispatch on specific ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.Phases.Phase"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Phases.Phase"],"type":"node"}],"type":"node"},"s and ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.Events.Event"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Events.Event"],"type":"node"}],"type":"node"},"s."],"type":"node"},{"attributes":{},"tag":"p","children":["For example, to implement an event handler that runs at the end of every step during training: ",{"attributes":{},"tag":"code","children":["on(::StepEnd, ::AbstractTrainingPhase, ::MyCallback, learner)"],"type":"node"},"."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["Define what state the callback accesses and/or modifies by implementing ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.stateaccess"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"code","children":["(::MyCallback)"],"type":"node"},". While ",{"attributes":{},"tag":"code","children":["learner"],"type":"node"}," is always passed as an argument to ",{"attributes":{},"tag":"code","children":["on"],"type":"node"}," event handlers, by default a callback can not read or write to its fields. See ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.stateaccess"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"}],"type":"node"}," for more detail."],"type":"node"},{"attributes":{},"tag":"p","children":["If a callback needs to write some state that other callbacks should be able to access, it can store it in ",{"attributes":{},"tag":"code","children":["learner.cbstate"],"type":"node"}," if you add a permission in ",{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"},"."],"type":"node"}],"type":"node"},{"attributes":{},"tag":"li","children":[{"attributes":{},"tag":"p","children":["If the callback needs some one-time initialization, you can implement ",{"attributes":{"reftype":"symbol","href":"#","title":"","document_id":"FluxTraining@0.3.9/ref/FluxTraining.init!"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["init!"],"type":"node"}],"type":"node"}," which will be run at least once before any step is run."],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}