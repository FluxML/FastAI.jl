{"attributes":{"backlinks":[],"path":"/home/lorenz/.julia/packages/MLUtils/Th9Y3/src/resample.jl","package_id":"MLUtils@0.2.11","title":"MLUtils/resample.jl","module_id":"MLUtils"},"tag":"sourcefile","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    oversample(data, classes; fraction=1, shuffle=true)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    oversample(data::Tuple; fraction=1, shuffle=true)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Generate a re-balanced version of `data` by repeatedly sampling\n"],"type":"node"},{"attributes":{},"tag":"String","children":["existing observations in such a way that every class will have at\n"],"type":"node"},{"attributes":{},"tag":"String","children":["least `fraction` times the number observations of the largest\n"],"type":"node"},{"attributes":{},"tag":"String","children":["class in `classes`. This way, all classes will have a minimum number of\n"],"type":"node"},{"attributes":{},"tag":"String","children":["observations in the resulting data set relative to what largest\n"],"type":"node"},{"attributes":{},"tag":"String","children":["class has in the given (original) `data`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["As an example, by default (i.e. with `fraction = 1`) the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["resulting dataset will be near perfectly balanced. On the other\n"],"type":"node"},{"attributes":{},"tag":"String","children":["hand, with `fraction = 0.5` every class in the resulting data\n"],"type":"node"},{"attributes":{},"tag":"String","children":["with have at least 50% as many observations as the largest class.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["The `classes` input is an array with the same length as `numobs(data)`.  \n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["The convenience parameter `shuffle` determines if the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["resulting data will be shuffled after its creation; if it is not\n"],"type":"node"},{"attributes":{},"tag":"String","children":["shuffled then all the repeated samples will be together at the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["end, sorted by class. Defaults to `true`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```julia\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# 6 observations with 3 features each\n"],"type":"node"},{"attributes":{},"tag":"String","children":["X = rand(3, 6)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# 2 classes, severely imbalanced\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Y = [\"a\", \"b\", \"b\", \"b\", \"b\", \"a\"]\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# oversample the class \"a\" to match \"b\"\n"],"type":"node"},{"attributes":{},"tag":"String","children":["X_bal, Y_bal = oversample(X, Y)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# this results in a bigger dataset with repeated data\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert size(X_bal) == (3,8)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert length(Y_bal) == 8\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# now both \"a\", and \"b\" have 4 observations each\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert sum(Y_bal .== \"a\") == 4\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert sum(Y_bal .== \"b\") == 4\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["For this function to work, the type of `data` must implement\n"],"type":"node"},{"attributes":{},"tag":"String","children":["[`numobs`](@ref) and [`getobs`](@ref). For example, the following\n"],"type":"node"},{"attributes":{},"tag":"String","children":["code allows `oversample` to work on a `DataFrame`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```julia\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# Make DataFrames.jl work\n"],"type":"node"},{"attributes":{},"tag":"String","children":["MLUtils.getobs(data::DataFrame, i) = data[i,:]\n"],"type":"node"},{"attributes":{},"tag":"String","children":["MLUtils.numobs(data::DataFrame) = nrow(data)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Note that if `data` is a tuple and `classes` is not given, \n"],"type":"node"},{"attributes":{},"tag":"String","children":["then it will be assumed that the last element of the tuple contains the classes.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```julia\n"],"type":"node"},{"attributes":{},"tag":"String","children":["julia> data = DataFrame(X1=rand(6), X2=rand(6), Y=[:a,:b,:b,:b,:b,:a])\n"],"type":"node"},{"attributes":{},"tag":"String","children":["6×3 DataFrames.DataFrame\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ Row │ X1        │ X2          │ Y │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["├─────┼───────────┼─────────────┼───┤\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 1   │ 0.226582  │ 0.0443222   │ a │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 2   │ 0.504629  │ 0.722906    │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 3   │ 0.933372  │ 0.812814    │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 4   │ 0.522172  │ 0.245457    │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 5   │ 0.505208  │ 0.11202     │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 6   │ 0.0997825 │ 0.000341996 │ a │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["julia> getobs(oversample(data, data.Y))\n"],"type":"node"},{"attributes":{},"tag":"String","children":["8×3 DataFrame\n"],"type":"node"},{"attributes":{},"tag":"String","children":[" Row │ X1        X2         Y      \n"],"type":"node"},{"attributes":{},"tag":"String","children":["     │ Float64   Float64    Symbol \n"],"type":"node"},{"attributes":{},"tag":"String","children":["─────┼─────────────────────────────\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   1 │ 0.376304  0.100022   a\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   2 │ 0.467095  0.185437   b\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   3 │ 0.481957  0.319906   b\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   4 │ 0.336762  0.390811   b\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   5 │ 0.376304  0.100022   a\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   6 │ 0.427064  0.0648339  a\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   7 │ 0.427064  0.0648339  a\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   8 │ 0.457043  0.490688   b\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["See [`ObsView`](@ref) for more information on data subsets.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["See also [`undersample`](@ref).\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"function","children":[{"attributes":{},"tag":"function","children":["function"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.oversample"},"tag":"reference","children":["oversample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["classes"],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["fraction"],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Integer","children":["1"],"type":"node"}],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"::","children":[{"attributes":{},"tag":"Identifier","children":["shuffle"],"type":"node"},{"attributes":{},"tag":"::","children":["::"],"type":"node"},{"attributes":{},"tag":"Identifier","children":["Bool"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"true","children":["true"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["lm"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.group_indices"},"tag":"reference","children":["group_indices"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["classes"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["maxcount"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["maximum"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["length"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["values"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["lm"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["fraccount"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["round"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["Int"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["fraction"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"*","children":["*"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["maxcount"],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"Comment","children":["# firstly we will start by keeping everything"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["collect"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Integer","children":["1"],"type":"node"},{"attributes":{},"tag":":","children":[":"],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.numobs"},"tag":"reference","children":["numobs"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"for","children":[{"attributes":{},"tag":"for","children":["for"],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"tuple","children":[{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["lbl"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"in","children":["in"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["lm"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n        "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["num_extra_needed"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["fraccount"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"-","children":["-"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["length"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n        "],"type":"node"},{"attributes":{},"tag":"while","children":[{"attributes":{},"tag":"while","children":["while"],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["num_extra_needed"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":">","children":[">"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["length"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n            "],"type":"node"},{"attributes":{},"tag":"-=","children":[{"attributes":{},"tag":"Identifier","children":["num_extra_needed"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"-=","children":["-="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["length"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n            "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["append!"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n        "],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n        "],"type":"node"},{"attributes":{},"tag":"if","children":[{"attributes":{},"tag":"if","children":["if"],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["num_extra_needed"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":">","children":[">"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Integer","children":["0"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n            "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["append!"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["sample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["num_extra_needed"],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["replace"],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"false","children":["false"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n        "],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"&&","children":[{"attributes":{},"tag":"Identifier","children":["shuffle"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"&&","children":["&&"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["shuffle!"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"return","children":[{"attributes":{},"tag":"return","children":["return"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.obsview"},"tag":"reference","children":["obsview"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.oversample"},"tag":"reference","children":["oversample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"::","children":[{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":"::","children":["::"],"type":"node"},{"attributes":{},"tag":"Identifier","children":["Tuple"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"...","children":[{"attributes":{},"tag":"Identifier","children":["kws"],"type":"node"},{"attributes":{},"tag":"...","children":["..."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.oversample"},"tag":"reference","children":["oversample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"ref","children":[{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":"[","children":["["],"type":"node"},{"attributes":{},"tag":"Identifier","children":["end"],"type":"node"},{"attributes":{},"tag":"]","children":["]"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"...","children":[{"attributes":{},"tag":"Identifier","children":["kws"],"type":"node"},{"attributes":{},"tag":"...","children":["..."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    undersample(data, classes; shuffle=true)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Generate a class-balanced version of `data` by subsampling its\n"],"type":"node"},{"attributes":{},"tag":"String","children":["observations in such a way that the resulting number of\n"],"type":"node"},{"attributes":{},"tag":"String","children":["observations will be the same number for every class. This way,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["all classes will have as many observations in the resulting data\n"],"type":"node"},{"attributes":{},"tag":"String","children":["set as the smallest class has in the given (original) `data`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["The convenience parameter `shuffle` determines if the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["resulting data will be shuffled after its creation; if it is not\n"],"type":"node"},{"attributes":{},"tag":"String","children":["shuffled then all the observations will be in their original\n"],"type":"node"},{"attributes":{},"tag":"String","children":["order. Defaults to `false`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```julia\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# 6 observations with 3 features each\n"],"type":"node"},{"attributes":{},"tag":"String","children":["X = rand(3, 6)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# 2 classes, severely imbalanced\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Y = [\"a\", \"b\", \"b\", \"b\", \"b\", \"a\"]\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# subsample the class \"b\" to match \"a\"\n"],"type":"node"},{"attributes":{},"tag":"String","children":["X_bal, Y_bal = undersample(X, Y)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# this results in a smaller dataset\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert size(X_bal) == (3,4)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert length(Y_bal) == 4\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# now both \"a\", and \"b\" have 2 observations each\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert sum(Y_bal .== \"a\") == 2\n"],"type":"node"},{"attributes":{},"tag":"String","children":["@assert sum(Y_bal .== \"b\") == 2\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["For this function to work, the type of `data` must implement\n"],"type":"node"},{"attributes":{},"tag":"String","children":["[`numobs`](@ref) and [`getobs`](@ref). For example, the following\n"],"type":"node"},{"attributes":{},"tag":"String","children":["code allows `undersample` to work on a `DataFrame`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```julia\n"],"type":"node"},{"attributes":{},"tag":"String","children":["# Make DataFrames.jl work\n"],"type":"node"},{"attributes":{},"tag":"String","children":["MLUtils.getobs(data::DataFrame, i) = data[i,:]\n"],"type":"node"},{"attributes":{},"tag":"String","children":["MLUtils.numobs(data::DataFrame) = nrow(data)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Note that if `data` is a tuple, then it will be assumed that the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["last element of the tuple contains the targets.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```julia\n"],"type":"node"},{"attributes":{},"tag":"String","children":["julia> data = DataFrame(X1=rand(6), X2=rand(6), Y=[:a,:b,:b,:b,:b,:a])\n"],"type":"node"},{"attributes":{},"tag":"String","children":["6×3 DataFrames.DataFrame\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ Row │ X1        │ X2          │ Y │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["├─────┼───────────┼─────────────┼───┤\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 1   │ 0.226582  │ 0.0443222   │ a │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 2   │ 0.504629  │ 0.722906    │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 3   │ 0.933372  │ 0.812814    │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 4   │ 0.522172  │ 0.245457    │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 5   │ 0.505208  │ 0.11202     │ b │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["│ 6   │ 0.0997825 │ 0.000341996 │ a │\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["julia> getobs(undersample(data, data.Y))\n"],"type":"node"},{"attributes":{},"tag":"String","children":["4×3 DataFrame\n"],"type":"node"},{"attributes":{},"tag":"String","children":[" Row │ X1        X2         Y      \n"],"type":"node"},{"attributes":{},"tag":"String","children":["     │ Float64   Float64    Symbol \n"],"type":"node"},{"attributes":{},"tag":"String","children":["─────┼─────────────────────────────\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   1 │ 0.427064  0.0648339  a\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   2 │ 0.376304  0.100022   a\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   3 │ 0.467095  0.185437   b\n"],"type":"node"},{"attributes":{},"tag":"String","children":["   4 │ 0.457043  0.490688   b\n"],"type":"node"},{"attributes":{},"tag":"String","children":["```\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["See [`ObsView`](@ref) for more information on data subsets.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["See also [`oversample`](@ref).\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"function","children":[{"attributes":{},"tag":"function","children":["function"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.undersample"},"tag":"reference","children":["undersample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["classes"],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"::","children":[{"attributes":{},"tag":"Identifier","children":["shuffle"],"type":"node"},{"attributes":{},"tag":"::","children":["::"],"type":"node"},{"attributes":{},"tag":"Identifier","children":["Bool"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"true","children":["true"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["lm"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.group_indices"},"tag":"reference","children":["group_indices"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["classes"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["mincount"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["minimum"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["length"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["values"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["lm"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"ref","children":[{"attributes":{},"tag":"Identifier","children":["Int"],"type":"node"},{"attributes":{},"tag":"[","children":["["],"type":"node"},{"attributes":{},"tag":"]","children":["]"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"for","children":[{"attributes":{},"tag":"for","children":["for"],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"tuple","children":[{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["lbl"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"in","children":["in"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["lm"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n        "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["append!"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["sample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds_for_lbl"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["mincount"],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"Identifier","children":["replace"],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"false","children":["false"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"?","children":[{"attributes":{},"tag":"Identifier","children":["shuffle"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"?","children":["?"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["shuffle!"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":":","children":[":"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{},"tag":"Identifier","children":["sort!"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{},"tag":"return","children":[{"attributes":{},"tag":"return","children":["return"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.obsview"},"tag":"reference","children":["obsview"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"Identifier","children":["inds"],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"=","children":[{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.undersample"},"tag":"reference","children":["undersample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"::","children":[{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":"::","children":["::"],"type":"node"},{"attributes":{},"tag":"Identifier","children":["Tuple"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"...","children":[{"attributes":{},"tag":"Identifier","children":["kws"],"type":"node"},{"attributes":{},"tag":"...","children":["..."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"=","children":["="],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"call","children":[{"attributes":{"reftype":"symbol","document_id":"MLUtils@0.2.11/ref/MLUtils.undersample"},"tag":"reference","children":["undersample"],"type":"node"},{"attributes":{},"tag":"(","children":["("],"type":"node"},{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"ref","children":[{"attributes":{},"tag":"Identifier","children":["data"],"type":"node"},{"attributes":{},"tag":"[","children":["["],"type":"node"},{"attributes":{},"tag":"Identifier","children":["end"],"type":"node"},{"attributes":{},"tag":"]","children":["]"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"parameters","children":[{"attributes":{},"tag":";","children":[";"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"...","children":[{"attributes":{},"tag":"Identifier","children":["kws"],"type":"node"},{"attributes":{},"tag":"...","children":["..."],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":")","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}