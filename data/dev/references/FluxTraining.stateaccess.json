{"attributes":{"kind":"function","backlinks":[{"tag":"sourcefile","title":"FluxTraining/src/callbacks/metrics.jl","docid":"sourcefiles/FluxTraining/src/callbacks/metrics.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/hyperparameters.jl","docid":"sourcefiles/FluxTraining/src/callbacks/hyperparameters.jl"},{"tag":"documentation","title":"CustomCallback","docid":"references/FluxTraining.CustomCallback"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/callbacks.jl","docid":"sourcefiles/FluxTraining/src/callbacks/callbacks.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/callback.jl","docid":"sourcefiles/FluxTraining/src/callbacks/callback.jl"},{"tag":"documentation","title":"init!","docid":"references/FluxTraining.init!"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/scheduler.jl","docid":"sourcefiles/FluxTraining/src/callbacks/scheduler.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/custom.jl","docid":"sourcefiles/FluxTraining/src/callbacks/custom.jl"},{"tag":"documentation","title":"Callback","docid":"references/FluxTraining.Callback"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/logging/logger.jl","docid":"sourcefiles/FluxTraining/src/callbacks/logging/logger.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/graph.jl","docid":"sourcefiles/FluxTraining/src/callbacks/graph.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/sanitycheck.jl","docid":"sourcefiles/FluxTraining/src/callbacks/sanitycheck.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/recorder.jl","docid":"sourcefiles/FluxTraining/src/callbacks/recorder.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/conditional.jl","docid":"sourcefiles/FluxTraining/src/callbacks/conditional.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/logging/checkpointer.jl","docid":"sourcefiles/FluxTraining/src/callbacks/logging/checkpointer.jl"},{"tag":"sourcefile","title":"FluxTraining/src/callbacks/earlystopping.jl","docid":"sourcefiles/FluxTraining/src/callbacks/earlystopping.jl"}],"methods":[{"line":32,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/custom.jl","method_id":"FluxTraining.stateaccess_1","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(cc::CustomCallback)"},{"line":42,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/hyperparameters.jl","method_id":"FluxTraining.stateaccess_2","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::Type{LearningRate})"},{"line":28,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/hyperparameters.jl","method_id":"FluxTraining.stateaccess_3","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::Type{FluxTraining.HyperParameter})"},{"line":63,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/callbacks.jl","method_id":"FluxTraining.stateaccess_4","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::MetricsPrinter)"},{"line":77,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/earlystopping.jl","method_id":"FluxTraining.stateaccess_5","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::EarlyStopping)"},{"line":113,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/logging/logger.jl","method_id":"FluxTraining.stateaccess_6","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::LogHyperParams)"},{"line":152,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/logging/logger.jl","method_id":"FluxTraining.stateaccess_7","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::LogHistograms)"},{"line":57,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/logging/logger.jl","method_id":"FluxTraining.stateaccess_8","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::LogMetrics)"},{"line":30,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/scheduler.jl","method_id":"FluxTraining.stateaccess_9","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(scheduler::Scheduler)"},{"line":18,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/recorder.jl","method_id":"FluxTraining.stateaccess_10","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::Recorder)"},{"line":45,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/metrics.jl","method_id":"FluxTraining.stateaccess_11","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::Metrics)"},{"line":19,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/logging/checkpointer.jl","method_id":"FluxTraining.stateaccess_12","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::Checkpointer)"},{"line":106,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/callbacks.jl","method_id":"FluxTraining.stateaccess_13","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::ToDevice)"},{"line":32,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/callbacks.jl","method_id":"FluxTraining.stateaccess_14","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::ProgressPrinter)"},{"line":208,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/logging/logger.jl","method_id":"FluxTraining.stateaccess_15","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::LogVisualization)"},{"line":63,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/conditional.jl","method_id":"FluxTraining.stateaccess_16","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(cc::ConditionalCallback)"},{"line":66,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/sanitycheck.jl","method_id":"FluxTraining.stateaccess_17","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::SanityCheck)"},{"line":82,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/callbacks.jl","method_id":"FluxTraining.stateaccess_18","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::StopOnNaNLoss)"},{"line":77,"file":"/home/runner/.julia/packages/FluxTraining/CfYLJ/src/callbacks/callback.jl","method_id":"FluxTraining.stateaccess_19","symbol_id":"FluxTraining.stateaccess","signature":"stateaccess(::FluxTraining.SafeCallback)"}],"name":"stateaccess","title":"stateaccess","symbol_id":"FluxTraining.stateaccess","public":false,"module_id":"FluxTraining"},"tag":"documentation","children":[{"attributes":{},"tag":"md","children":[{"attributes":{"lang":""},"tag":"codeblock","children":["stateaccess(::Type{HyperParameter})\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Defines what ",{"attributes":{},"tag":"code","children":["Learner"],"type":"node"}," state is accessed when calling",{"attributes":{},"tag":"br","children":[],"type":"node"},{"attributes":{},"tag":"code","children":["sethyperparameter!"],"type":"node"}," and ",{"attributes":{},"tag":"code","children":["gethyperparameter"],"type":"node"},". This is needed",{"attributes":{},"tag":"br","children":[],"type":"node"},"so that ",{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Scheduler"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["Scheduler"],"type":"node"}],"type":"node"}," can access the state."],"type":"node"},{"attributes":{},"tag":"hr","children":[],"type":"node"},{"attributes":{"lang":""},"tag":"codeblock","children":["stateaccess(callback)\n"],"type":"node"},{"attributes":{},"tag":"p","children":["Return a named tuple determining what learner state ",{"attributes":{},"tag":"code","children":["callback"],"type":"node"},{"attributes":{},"tag":"br","children":[],"type":"node"},"can access. The default is ",{"attributes":{},"tag":"code","children":["(;)"],"type":"node"},", the empty named tuple, meaning",{"attributes":{},"tag":"br","children":[],"type":"node"},"no state can be accessed. Implementations of ",{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"}," should",{"attributes":{},"tag":"br","children":[],"type":"node"},"always return the least permissions possible."],"type":"node"},{"attributes":{},"tag":"h2","children":["Extending"],"type":"node"},{"attributes":{},"tag":"p","children":["For example, the ",{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.ToGPU"},"tag":"reference","children":[{"attributes":{},"tag":"code","children":["ToGPU"],"type":"node"}],"type":"node"}," callback needs to write both the model and",{"attributes":{},"tag":"br","children":[],"type":"node"},"the batch data, so its ",{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"}," implementation is:"],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.stateaccess"},"tag":"reference","children":["stateaccess"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"DECLARATION","children":[{"attributes":{},"tag":"DECLARATION","children":["::"],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.ToGPU"},"tag":"reference","children":["ToGPU"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"TUPLE","children":[{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n    "],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["model"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Write"},"tag":"reference","children":["Write"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n    "],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{"reftype":"symbol","document_id":"references/Flux.params"},"tag":"reference","children":["params"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Write"},"tag":"reference","children":["Write"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n    "],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["step"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"TUPLE","children":[{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["xs"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Write"},"tag":"reference","children":["Write"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":[{"attributes":{},"tag":"IDENTIFIER","children":["ys"],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"EQ","children":["="],"type":"node"},{"attributes":{},"tag":"WHITESPACE","children":[" "],"type":"node"},{"attributes":{},"tag":"CALL","children":[{"attributes":{"reftype":"symbol","document_id":"references/FluxTraining.Write"},"tag":"reference","children":["Write"],"type":"node"},{"attributes":{},"tag":"LPAREN","children":["("],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"COMMA","children":[","],"type":"node"},{"attributes":{},"tag":"NEWLINE_WS","children":["\n"],"type":"node"},{"attributes":{},"tag":"RPAREN","children":[")"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"p","children":["When defining ",{"attributes":{},"tag":"code","children":["stateaccess"],"type":"node"},", be careful that you do return a ",{"attributes":{},"tag":"code","children":["NamedTuple"],"type":"node"},".",{"attributes":{},"tag":"br","children":[],"type":"node"},{"attributes":{},"tag":"code","children":["(x = Read(),)"],"type":"node"}," is one but ",{"attributes":{},"tag":"code","children":["(x = Read())"],"type":"node"}," (without the comma) is parsed as",{"attributes":{},"tag":"br","children":[],"type":"node"},"an assignment with value ",{"attributes":{},"tag":"code","children":["Read()"],"type":"node"},"."],"type":"node"}],"type":"node"}],"type":"node"}