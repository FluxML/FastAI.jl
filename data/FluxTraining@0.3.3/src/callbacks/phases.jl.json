{"attributes":{"backlinks":[],"path":"/home/lorenz/.julia/packages/FluxTraining/9cSLK/src/callbacks/phases.jl","package_id":"FluxTraining@0.3.3","title":"FluxTraining/callbacks/phases.jl","module_id":"FluxTraining"},"tag":"sourcefile","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"module","children":[{"attributes":{},"tag":"module","children":["module"],"type":"node"},{"attributes":{},"tag":"true","children":[""],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases"},"tag":"reference","children":["Phases"],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    abstract type Phase\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Abstract supertype for all phases. See `subtypes(FluxTraining.Phase)`.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["A `Phase` is used in dispatch for training loop functions [`step!`](#)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["and [`epoch!`](#) as well as in [`Callback`](#) handler methods [`on`](#).\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"abstract","children":[{"attributes":{},"tag":"abstract","children":["abstract"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"type","children":["type"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.Phase"},"tag":"reference","children":["Phase"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    abstract type AbstractTrainingPhase <: Phase\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["An abstract type for phases where parameter updates\n"],"type":"node"},{"attributes":{},"tag":"String","children":["are being made. This exists so callbacks can dispatch on it and work\n"],"type":"node"},{"attributes":{},"tag":"String","children":["with custom training phases.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["The default implementation for supervised tasks is [`TrainingPhase`](#).\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"abstract","children":[{"attributes":{},"tag":"abstract","children":["abstract"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"type","children":["type"],"type":"node"},{"attributes":{},"tag":"<:","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.AbstractTrainingPhase"},"tag":"reference","children":["AbstractTrainingPhase"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"<:","children":["<:"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.Phase"},"tag":"reference","children":["Phase"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    TrainingPhase() <: AbstractTrainingPhase\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["A regular training phase for supervised learning. It iterates over batches\n"],"type":"node"},{"attributes":{},"tag":"String","children":["in `learner.data.training` and updates the model parameters\n"],"type":"node"},{"attributes":{},"tag":"String","children":["using `learner.optim` after calculating the gradients.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Throws the following events in this order:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`EpochBegin`](#) when an epoch starts,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`StepBegin`](#) when a step starts,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`LossBegin`](#) after the forward pass but before loss calculation,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`BackwardBegin`](#) after loss calculation but before backward pass,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`BackwardEnd`](#) after the bacward pass but before the optimization\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    step,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`StepEnd`](#) when a step ends; and\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`EpochEnd`](#) when an epoch ends\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["It writes the following step state to `learner.state`, grouped by the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["event from which on it is available.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `StepBegin`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `xs` and `ys`: encoded input and target (batch)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `LossBegin`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `yÌ‚s`: model output\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `BackwardBegin`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `loss`: loss\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `BackwardEnd`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `grads`: calculated gradients\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"struct","children":[{"attributes":{},"tag":"false","children":[""],"type":"node"},{"attributes":{},"tag":"struct","children":["struct"],"type":"node"},{"attributes":{},"tag":"<:","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.TrainingPhase"},"tag":"reference","children":["TrainingPhase"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"<:","children":["<:"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.AbstractTrainingPhase"},"tag":"reference","children":["AbstractTrainingPhase"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    abstract type AbstractValidationPhase <: Phase\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["An abstract type for phases where no parameter updates\n"],"type":"node"},{"attributes":{},"tag":"String","children":["are being made. This exists so callbacks can dispatch on it and work\n"],"type":"node"},{"attributes":{},"tag":"String","children":["with custom validation phases.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["The default implementation for supervised tasks is [`ValidationPhase`](#).\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"abstract","children":[{"attributes":{},"tag":"abstract","children":["abstract"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"type","children":["type"],"type":"node"},{"attributes":{},"tag":"<:","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.AbstractValidationPhase"},"tag":"reference","children":["AbstractValidationPhase"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"<:","children":["<:"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.Phase"},"tag":"reference","children":["Phase"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"macrocall","children":[{"attributes":{},"tag":"core_@doc","children":[""],"type":"node"},{"attributes":{},"tag":"string","children":[{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    ValidationPhase()\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["A regular validation phase. It iterates over batches\n"],"type":"node"},{"attributes":{},"tag":"String","children":["in `learner.data.validation` and performs a forward pass.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Throws the following events: [`EpochBegin`](#), [`StepBegin`](#),\n"],"type":"node"},{"attributes":{},"tag":"String","children":["[`LossBegin`](#), [`StepEnd`](#), [`EpochEnd`](#).\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["Throws the following events in this order:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`EpochBegin`](#) when an epoch starts,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`StepBegin`](#) when a step starts,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`LossBegin`](#) after the forward pass but before loss calculation,\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`StepEnd`](#) when a step ends; and\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- [`EpochEnd`](#) when an epoch ends\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["It writes the following step state to `learner.state`, grouped by the\n"],"type":"node"},{"attributes":{},"tag":"String","children":["event from which on it is available.\n"],"type":"node"},{"attributes":{},"tag":"String","children":["\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `StepBegin`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `xs` and `ys`: encoded input and target (batch)\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `LossBegin`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `yÌ‚s`: model output\n"],"type":"node"},{"attributes":{},"tag":"String","children":["- `StepEnd`:\n"],"type":"node"},{"attributes":{},"tag":"String","children":["    - `loss`: loss\n"],"type":"node"},{"attributes":{},"tag":"\"\"\"","children":["\"\"\""],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"struct","children":[{"attributes":{},"tag":"false","children":[""],"type":"node"},{"attributes":{},"tag":"struct","children":["struct"],"type":"node"},{"attributes":{},"tag":"<:","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.ValidationPhase"},"tag":"reference","children":["ValidationPhase"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":"<:","children":["<:"],"type":"node"},{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.AbstractValidationPhase"},"tag":"reference","children":["AbstractValidationPhase"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"block","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"},{"attributes":{},"tag":"export","children":[{"attributes":{},"tag":"export","children":["export"],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.Phase"},"tag":"reference","children":["Phase"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.AbstractTrainingPhase"},"tag":"reference","children":["AbstractTrainingPhase"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.TrainingPhase"},"tag":"reference","children":["TrainingPhase"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.AbstractValidationPhase"},"tag":"reference","children":["AbstractValidationPhase"],"type":"node"},{"attributes":{},"tag":",","children":[","],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n    "],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases.ValidationPhase"},"tag":"reference","children":["ValidationPhase"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"NewlineWs","children":["\n"],"type":"node"}],"type":"node"},{"attributes":{},"tag":"end","children":["end"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"},{"attributes":{},"tag":"md","children":[{"attributes":{},"tag":"p","children":["module"],"type":"node"}],"type":"node"},{"attributes":{"lang":"julia"},"tag":"codeblock","children":[{"attributes":{},"tag":"julia","children":[{"attributes":{},"tag":"using","children":[{"attributes":{},"tag":"using","children":["using"],"type":"node"},{"attributes":{},"tag":".","children":[{"attributes":{},"tag":"Whitespace","children":[" "],"type":"node"},{"attributes":{},"tag":".","children":["."],"type":"node"},{"attributes":{"reftype":"symbol","document_id":"FluxTraining@0.3.3/ref/FluxTraining.Phases"},"tag":"reference","children":["Phases"],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}],"type":"node"}